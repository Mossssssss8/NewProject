<!DOCTYPE html>
<!-- Created by CodingLab |www.youtube.com/c/CodingLabYT-->
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <title> Human Pose Estimation Technology </title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Boxicons CDN Link -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body onload="init()">
    <div class="sidebar">
        <div class="logo-details">
            <i class='#'></i>
            <div class="logo_name">Estimation Technology</div>
            <i class='bx bx-menu' id="btn"></i>
        </div>
        <ul class="nav-list" style="margin-left: -30px;">
            <li>
                <i class='bx bx-search'></i>
                <input type="text" placeholder="Search...">
                <span class="tooltip">Search</span>
            </li>
            <li>
                <a href="index.html">
                    <i class='bx bx-grid-alt'></i>
                    <span class="links_name">Dashboard</span>
                </a>
                <span class="tooltip">Dashboard</span>
            </li>
            <li>
                <a href="Set-mode.html">
                    <i class='bx bx-transfer alt'></i>
                    <span class="links_name">Set mode</span>
                </a>
                <span class="tooltip">Exercise</span>
              </li>
              <li>
                  <a href="HIITmode.html">
                      <i class='bx bx-task'></i>
                      <span class="links_name">HIIT Mode</span>
                  </a>
                  <span class="tooltip">HIIT Workout</span>
              </li>
              <li>
                <a href="Endurance Mode.html">
                    <i class='bx bx-task '></i>
                    <span class="links_name">Endurance Mode</span>
                </a>
                <span class="tooltip">Endurance Mode</span>
            </li>
            <li>
                <a href="Video.html">
                    <i class='bx bx-video'></i>
                    <span class="links_name">Video</span>
                </a>
                <span class="tooltip">Video</span>
            </li>
            <li>
                <a href="Video-Stretching.html">
                    <i class='bx bx-video'></i>
                    <span class="links_name">Video-Stretching</span>
                </a>
                <span class="tooltip">Video-Stretching</span>
            </li>
            <li>
                <a href="History.html">
                    <i class='bx bx-pie-chart-alt-2'></i>
                    <span class="links_name">History</span>
                </a>
                <span class="tooltip">History</span>
            </li>
            <li>
                <a href="setting.html">
                    <i class='bx bx-cog'></i>
                    <span class="links_name">Setting</span>
                </a>
                <span class="tooltip">Account Setting</span>
            </li>
            <li class="profile">
                <div class="profile-details">
                    <!-- <img src="profile.jpg" alt="profileImg"> -->
                    <div class="name_job">
                        <div id="ShowUserName" class="name">User</div>
                        <div class="job">Human Pose Estimation</div>
                    </div>
                </div>
                <button style="display: contents;"><i class='bx bx-log-out' title="Log out!" onclick="logout()"
                        id="log_out"></i></button>
            </li>
        </ul>
    </div>
    <section class="home-section">
        <div class="text">Account Setting</div><br>
        <section class="first-section">
            <!-- <div class="head_content_setting"> -->
            <!-- <div class="overlay"> -->
            <!-- <div class="text">Setting</div> -->
            <div class="container-xl px-4 mt-4">
                <!-- Account page navigation-->
                <nav class="nav nav-borders">
                </nav>
                <hr class="mt-0 mb-4">
                <div class="row">
                    <div class="col-xl-4">
                        <!-- Profile picture card-->
                        <div class="card mb-4 mb-xl-0">
                            <div class="card-header">Profile Picture</div>
                            <div class="card-body text-center">
                                <!-- Profile picture image-->
                                <img class="img-account-profile rounded-circle mb-2"
                                    src="http://bootdey.com/img/Content/avatar/avatar7.png" alt="">
                                <!-- Profile picture help block-->
                                <div class="small font-italic text-muted mb-4">JPG or PNG no larger than 5 MB</div>
                                <!-- Profile picture upload button-->
                                <button class="btn btn-primary" type="button">Upload new image</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-8">
                        <!-- Account details card-->
                        <div class="card mb-4">
                            <div class="card-header">Account Details</div>
                            <div class="card-body">
                                <form>
                                    <!-- Form Group (username)-->
                                    <div class="mb-3">
                                        <label class="small mb-1" for="inputUsername"> Username </label>
                                        <input class="form-control" id="inputUsername" type="text"
                                            placeholder="Enter your username" disabled>
                                    </div>
                                    <!-- Form Row-->
                                    <div class="row gx-3 mb-3">
                                        <!-- Form Group (first name)-->
                                        <div class="col-md-6">
                                            <label class="small mb-1" for="inputHeight">Height</label>
                                            <input class="form-control" id="inputHeight" type="text"
                                                placeholder="Enter your Height">
                                        </div>
                                        <!-- Form Group (last name)-->
                                        <div class="col-md-6">
                                            <label class="small mb-1" for="inputWeight">Weight</label>
                                            <input class="form-control" id="inputWeight" type="text"
                                                placeholder="Enter your Weight">
                                        </div>
                                    </div>
                                    <!-- Save changes button-->
                                    <button class="btn btn-primary" onclick="updateBtn()" type="button">Save
                                        changes</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
            </div>
            <!-- <a href="#scrollto"><img src="../หน้าต่าง Login/img/ex2.jpg"></a></div> -->
        </section>
    </section>
    <script src="script.js"></script>
    <script>
        console.log("hello setting")
        showUserNameDetail()
        function showUserNameDetail() {
            var user = GetUser_id();
            document.getElementById('inputUsername').value = user.username;
            document.getElementById('inputHeight').value = user.Height;
            document.getElementById('inputWeight').value = user.Weight;

        }
        function updateBtn() {
            Swal.fire({
                title: 'Do you want to Save?',
                showCancelButton: true,
                confirmButtonText: 'Yes',
                icon: "question"
            }).then((result) => {
                /* Read more about isConfirmed, isDenied below */
                if (result.isConfirmed) {
                    var user = GetUser_id();
                    user.Height = document.getElementById('inputHeight').value;
                    user.Weight = document.getElementById('inputWeight').value;
                    console.log(user)
                    updateUser(user);
                }
            })

        }
        async function updateUser(user) {
            console.log("in update user")
            console.log(user)
            var newmodel ={
                _id : user._id,
                Height: user.Height,
                Weight: user.Weight
            }
            var response = await fetch(UserApi + `update/${user._id}`, {
                method: 'PUT',
                mode: 'cors',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(newmodel)
            })
            var allUSer = await response.json()
            console.log("response")
            console.log(allUSer)
            return allUSer
        }
    </script>
</body>

</html>