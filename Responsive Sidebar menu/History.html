<!DOCTYPE html>
<!-- Created by CodingLab |www.youtube.com/c/CodingLabYT-->
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <title> Human Pose Estimation Technology </title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <!-- Boxicons CDN Link -->
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body onload="initInHistory()">
  <div class="sidebar">
    <div class="logo-details">
      <i class='#'></i>
      <div class="logo_name">Human Pose</div>
      <i class='bx bx-menu' id="btn"></i>
    </div>
    <ul class="nav-list" style="margin-left: -30px;">
      <li>
        <i class='bx bx-search'></i>
        <input type="text" placeholder="Search...">
        <span class="tooltip">Search</span>
      </li>
      <li>
        <a href="index.html">
          <i class='bx bx-grid-alt'></i>
          <span class="links_name">Dashboard</span>
        </a>
        <span class="tooltip">Dashboard</span>
      </li>
      <li>
        <a href="Set-mode.html">
          <i class='bx bx-transfer alt'></i>
          <span class="links_name">Set mode</span>
        </a>
        <span class="tooltip">Exercise</span>
      </li>
      <li>
        <a href="HIITmode.html">
          <i class='bx bx-task'></i>
          <span class="links_name">HIIT Mode</span>
        </a>
        <span class="tooltip">HIIT Workout</span>
      </li>
      <li>
        <a href="Endurance Mode.html">
          <i class='bx bx-task'></i>
          <span class="links_name">Endurance Mode</span>
        </a>
        <span class="tooltip">Endurance Mode</span>
      </li>
      <li>
        <a href="Video.html">
          <i class='bx bx-video'></i>
          <span class="links_name">Video</span>
        </a>
        <span class="tooltip">Video</span>
      </li>
      <li>
        <a href="Video-Stretching.html">
          <i class='bx bx-video'></i>
          <span class="links_name">Video-Stretching</span>
        </a>
        <span class="tooltip">Video-Stretching</span>
      </li>
      <li>
        <a href="History.html">
          <i class='bx bx-pie-chart-alt-2'></i>
          <span class="links_name">History</span>
        </a>
        <span class="tooltip">History</span>
      </li>
      <li>
        <a href="setting.html">
          <i class='bx bx-cog'></i>
          <span class="links_name">Setting</span>
        </a>
        <span class="tooltip">Setting</span>
      </li>
      <li class="profile">
        <div class="profile-details">
          <!-- <img src="profile.jpg" alt="profileImg"> -->
          <div class="name_job">
            <div id="ShowUserName" class="name">User</div>
            <div class="job">Web Human Pose</div>
          </div>
        </div>
        <button><i class='bx bx-log-out' title="Log out!" onclick="logout()" id="log_out"></i></button>
      </li>
    </ul>
  </div>
  <section class="home-section">
    <!-- <div class="text">History</div> -->
    <section class="first-section">
      <div class="head_content_index">
        <div class="overlay">
          <div class="text">History</div>
        </div>
      </div>
      <!-- <a href="#scrollto"><img src="../หน้าต่าง Login/img/ex2.jpg"></a></div> -->
    </section>
    <section class="bg_change">
      <div class="wrap_container padding_tb75">
        <link href="css/integration.css" rel="stylesheet" media="all">
        <link href="css/integration-v2.css" rel="stylesheet" media="all">
      </div>
      <table class="integrations-data table " aria-busy="false">
        <thead>
          <tr>
            <th data-sort="title" data-direction="ASC">Title</th>
            <th data-sort="status">Repetition</th>
            <th data-sort="cta"></th>
            <th data-sort="status">Timer</th>
            <th data-sort="cta"></th>
            <th data-sort="status">Date</th>
            <th data-sort="cta"></th>
          </tr>
        </thead>
        <tbody>
          <td>Pull-up</td>
          <td class="integrations-status">
            <span id="scorePullup" class="button label button--xs button--success">0</span>
          </td>
          <td></td>
          <td class="integrations-cta">
            <span id="TimePullup" class="button button--xs button--primary">00:00</span>
          </td>
          <td></td>
          <td class="integrations-cta">
            <span class="button button--xs button--primary">0/0/0</span>
          </td>
          </tr>
          <tr>
            <td>Diamond Push up</td>
            <td class="integrations-status">
              <span id="scoreDMPushup" class="button label button--xs button--success">0</span>
            </td>
            <td></td>
            <td class="integrations-cta">
              <span id="TimeDMPushup" class="button button--xs button--primary">00:00</span>
            </td>
            <td></td>
            <td class="integrations-cta">
              <span class="button button--xs button--primary">0/0/0</span>
            </td>
          </tr>
          <tr>
            <td>Push up</td>
            <td class="integrations-status">
              <span id="scorePushup" class="button label button--xs button--success">0</span>
            </td>
            <td></td>
            <td class="integrations-cta">
              <span id="TimePushup" class="button button--xs button--primary">00:00</span>
            </td>
            <td></td>
            <td class="integrations-cta">
              <span class="button button--xs button--primary">0/0/0</span>
            </td>
          </tr>
          <tr>
            <td>Leg-Raise</td>
            <td class="integrations-status">
              <span id="scoreLegRaise" class="button label button--xs button--success">0</span>
            </td>
            <td></td>
            <td class="integrations-cta">
              <span id="TimeLegraise" class="button button--xs button--primary">00:00</span>
            </td>
            <td></td>
            <td class="integrations-cta">
              <span class="button button--xs button--primary">0/0/0</span>
            </td>
          </tr>
          <tr>
            <td>Squats</td>
            <td class="integrations-status">
              <span id="scoreSquats" class="button label button--xs button--success">0</span>
            </td>
            <td></td>
            <td class="integrations-cta">
              <span id="Timesquats" class="button button--xs button--primary">00:00</span>
            </td>
            <td></td>
            <td class="integrations-cta">
              <span class="button button--xs button--primary">0/0/0</span>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <!-- <td class="pl-0">Displaying 4 results out of 4</td>  -->
          </tr>
        </tfoot>
      </table>
      </div>
      <script src="js/integration/integrations.js" defer=""></script>
      <script src="js/bundle.js" defer=""></script>
      </div>
    </section>
  </section>
  <script>
    async function initInHistory() {

      init()
      var TimeSquats = 0
      var TimePullup = 0
      var TimePushup = 0
      var TimeLegraise = 0
      var TimeDMPushup = 0

      var scoreSquats = 0
      var scorePullup = 0
      var scorePushup = 0
      var scoreLegRaise = 0
      var scoreDMPushup = 0

      var AllHIIT
      var User = GetUser()
      Allscore = await getScoreById(User._id)

      Timesquats = CountTimeByNameEx(Allscore, "Squats")
      TimePullup = CountTimeByNameEx(Allscore, "Pull-Up")
      TimePushup = CountTimeByNameEx(Allscore, "Push-up")
      TimeLegraise = CountTimeByNameEx(Allscore, "LegRaise")
      TimeDMPushup = CountTimeByNameEx(Allscore, "DMPushup")

      scoreSquats = CountScoreByNameEx(Allscore, "Squats")
      scorePullup = CountScoreByNameEx(Allscore, "Pull-Up")
      scorePushup = CountScoreByNameEx(Allscore, "Push-up")
      scoreLegRaise = CountScoreByNameEx(Allscore, "LegRaise")
      scoreDMPushup = CountScoreByNameEx(Allscore, "DMPushup")

      document.getElementById('scorePullup').innerHTML = scorePullup
      document.getElementById('scoreDMPushup').innerHTML = scoreDMPushup
      document.getElementById('scorePushup').innerHTML = scorePushup
      document.getElementById('scoreLegRaise').innerHTML = scoreLegRaise
      document.getElementById('scoreSquats').innerHTML = scoreSquats

      document.getElementById('Timesquats').innerHTML = timeset(Timesquats)
      document.getElementById('TimePullup').innerHTML = timeset(TimePullup)
      document.getElementById('TimePushup').innerHTML = timeset(TimePushup)
      document.getElementById('TimeLegraise').innerHTML = timeset(TimeLegraise)
      document.getElementById('TimeDMPushup').innerHTML = timeset(TimeDMPushup)


    }

    function timeset(time) {
      var fontNum = 0
      var backNum = 0
      var hours = 0

      while (time > 0) {

        if (fontNum >= 60) {
          fontNum -= 60
          hours++
        }
        if (time >= 60) {
          time = time - 60
          fontNum++
        } else {
          backNum = time
          time = 0
        }
      }
      if (hours > 0) {
        return `${hours}:${setTwodigit(fontNum)}:${setTwodigit(backNum)}`

      }
      // console.log(`${setTwodigit(fontNum)}:${setTwodigit(backNum)}`)
      // console.log(`fontNum`)
      return `${setTwodigit(fontNum)}:${setTwodigit(backNum)}`
    }
    function setTwodigit(num) {
      var returnNum = "0";
      if (num < 10) {
        if (num == 9) {
          return "09"
        } if (num == 8) {
          return "08"
        } if (num == 7) {
          return "07"
        } if (num == 6) {
          return "06"
        } if (num == 5) {
          return "05"
        } if (num == 4) {
          return "04"
        } if (num == 3) {
          return "03"
        } if (num == 2) {
          return "02"
        } if (num == 1) {
          return "01"
        } if (num == 0) {
          return "00"
        }
      } else {
        return num
      }
    }
  </script>
  <script src="script.js"></script>
  <script src="ScoreApi.js"></script>


</body>

</html>